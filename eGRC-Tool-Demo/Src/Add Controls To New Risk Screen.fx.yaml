"'Add Controls To New Risk Screen' As screen":

    "Gallery4 As gallery.'BrowseLayout_Vertical_TwoTextOneImageVariant_ver5.0'":
        DelayItemLoading: =true
        Items: =ControlDatabaseFD
        Layout: =Layout.Vertical
        LoadingSpinner: =LoadingSpinner.Data
        TemplatePadding: =0
        TemplateSize: =104
        X: =40
        Y: =116
        ZIndex: =1

        Title4 As label:
            FontWeight: =If(ThisItem.IsSelected, FontWeight.Semibold, FontWeight.Normal)
            Height: =Self.Size * 1.8
            OnSelect: =Select(Parent)
            PaddingBottom: =0
            PaddingLeft: =0
            PaddingRight: =0
            PaddingTop: =0
            Text: =ThisItem.'Control Description'
            VerticalAlign: =VerticalAlign.Top
            Width: =Parent.TemplateWidth - 173
            X: =103
            Y: =(Parent.TemplateHeight - (Self.Size * 1.8 + Subtitle4.Size * 1.8)) / 2
            ZIndex: =2

        Subtitle4 As label:
            FontWeight: =If(ThisItem.IsSelected, FontWeight.Semibold, FontWeight.Normal)
            Height: =Self.Size * 1.8
            OnSelect: =Select(Parent)
            PaddingBottom: =0
            PaddingLeft: =0
            PaddingRight: =0
            PaddingTop: =0
            Text: =ThisItem.'Control Name'
            VerticalAlign: =VerticalAlign.Top
            Width: =Title4.Width
            X: =Title4.X
            Y: =Title4.Y + Title4.Height
            ZIndex: =3

        NextArrow4 As icon.ChevronRight:
            AccessibleLabel: =Self.Tooltip
            Color: =RGBA(166, 166, 166, 1)
            Height: =50
            Icon: =Icon.ChevronRight
            OnSelect: |-
                =Set(NavigateControlRecord1, ThisItem);
                Navigate(MoreInfoRecord)
            PaddingBottom: =16
            PaddingLeft: =16
            PaddingRight: =16
            PaddingTop: =16
            Tooltip: ="View item details"
            Width: =50
            X: =Parent.TemplateWidth - Self.Width - 12
            Y: =(Parent.TemplateHeight / 2) - (Self.Height / 2)
            ZIndex: =4

        Separator4 As rectangle:
            Height: =8
            OnSelect: =Select(Parent)
            Width: =Parent.TemplateWidth
            Y: =Parent.TemplateHeight - Self.Height
            ZIndex: =5

        Rectangle4 As rectangle:
            Height: =Parent.TemplateHeight - Separator4.Height
            OnSelect: =Select(Parent)
            Visible: =ThisItem.IsSelected
            Width: =4
            ZIndex: =6

        Checkbox2 As checkbox:
            Height: =51
            OnCheck: |-
                =//Collect(SelectedControlsToLink3, ThisItem) 
                false
            OnSelect: =Select(Parent)
            OnUncheck: |
                =//Remove(SelectedControlsToLink3, ThisItem)
                //false
            Reset: |-
                =//false
                ResetCheckbox
            Text: =""
            Width: =60
            X: =21
            Y: =23
            ZIndex: =7

    Label6 As label:
        Height: =38
        Text: ="Link controls to new risk "
        Width: =261
        X: =296
        Y: =40
        ZIndex: =2

    Icon3 As icon.Save:
        Icon: =Icon.Save
        OnSelect: |-
            =
            //add all controls to this risk 
            ClearCollect(SelectedControlsToLink3, Filter(Gallery4.AllItems, Checkbox2.Value = true).ControlID);
            ForAll(SelectedControlsToLink3, Patch(RelationRC_DB, Defaults(RelationRC_DB), {RiskID: NewRiskID, ControlID: ControlID}));
            //uncheck all controls
            UpdateContext({ResetCheckbox:true});
            UpdateContext({ResetCheckbox:false});
            Navigate('Risk Overview Screen')
        X: =768
        Y: =664
        ZIndex: =3

    Label7 As label:
        Text: =Checkbox2.Value
        X: =657
        Y: =76
        ZIndex: =4

